<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../styles/Login.css">
    <title>Admin Login</title>
</head>

<body>
    <div class="login">
        <div class="login__form-container">
            <h2 class="login__title">Đăng Nhập</h2>
            <p class="login__subtitle">Trùm Kim Cương</p>
            <form id="login-form" class="login__form">
                <div class="login__input-group">
                    <label class="login__label">Tên Đăng Nhập:</label>
                    <input type="email" id="email" required class="login__input">
                </div>
                <div class="login__input-group">
                    <label class="login__label">Mật Khẩu:</label>
                    <input type="password" id="password" required class="login__input">
                </div>
                <div class="login__forgot-password">
                    <a href="/admin/forgotpassword" class="login__forgot-password-button">Quên Mật Khẩu</a>
                </div>
                <button type="submit" class="login__button">Đăng Nhập</button>
            </form>
            <button id="google-sign-in" class="login__google-button">
                <img src="https://img.icons8.com/color/16/000000/google-logo.png" alt="Google Logo"> Đăng nhập với
                Google
            </button>
            <p id="message" class="login__message"></p>
        </div>
    </div>

    <script>
        document.getElementById('login-form').addEventListener('submit', function (event) {
            event.preventDefault();
            // Logic for email and password sign in
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    document.getElementById('message').innerText = 'Đăng nhập thành công';
                    window.location.href = '/admin';
                })
                .catch((error) => {
                    document.getElementById('message').innerText = 'Đăng nhập thất bại: ' + error.message;
                });
        });

        document.getElementById('google-sign-in').addEventListener('click', function () {
            // Logic for Google sign in
            signInWithPopup(provider)
                .then((result) => {
                    document.getElementById('message').innerText = 'Đăng nhập với Google thành công';
                    window.location.href = '/admin/dashboard';
                })
                .catch((error) => {
                    document.getElementById('message').innerText = 'Đăng nhập với Google thất bại: ' + error.message;
                });
        });

        function signInWithEmailAndPassword(email, password) {
            // Mock function for email and password sign in
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    if (email === "admin@example.com" && password === "password123") {
                        resolve({ user: { email } });
                    } else {
                        reject(new Error("Invalid email or password"));
                    }
                }, 1000);
            });
        }

        function signInWithPopup(provider) {
            // Mock function for Google sign in
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve({ user: { email: "googleuser@example.com" } });
                }, 1000);
            });
        }
    </script>
</body>

</html>